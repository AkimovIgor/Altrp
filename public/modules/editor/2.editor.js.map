{"version":3,"sources":["webpack:///./src/js/components/Styles.js","webpack:///./src/svgs/plus.svg","webpack:///./src/svgs/folder.svg","webpack:///./src/js/components/NewSection.js","webpack:///./src/EditorContent.js"],"names":["Styles","props","state","elementStyles","window","stylesModule","stylesModuleResolve","elementId","styles","elementFound","this","forEach","elementStyle","push","setState","className","map","data-styles-id","key","Component","width","height","fill","xmlns","d","stroke","strokeWidth","NewSection","e","preventDefault","stopPropagation","newWidgetName","dataTransfer","getData","getEditor","modules","templateDataStorage","addWidgetInSection","onDragOver","onDragEnter","onDrop","data-element-type","draggable","EditorContent","editorWindow","React","createRef","store","subscribe","currentElementListener","bind","altrpEditorContent","data","currentElement","getState","RootElement","rootElement","getRootElement","ref","createElement","componentClass","children","element"],"mappings":"+tFAEMA,E,sQACJ,WAAYC,GAAM,a,4FAAA,UAChB,cAAMA,IACDC,MAAQ,CACXC,cAAe,IAEjBC,OAAOC,aAAP,KACAD,OAAOE,oBAAP,MANgB,E,sDAYDC,EAAWC,GAC1B,GAAIA,EAAJ,CAGA,IAAIC,GAAe,EACfN,EAAgB,EAAIO,KAAKR,MAAMC,eACnCA,EAAcQ,SAAQ,SAAAC,GACjBA,EAAaL,YAAcA,IAC5BE,GAAe,EACfG,EAAaJ,OAASA,MAGtBC,GACFN,EAAcU,KAAK,CACjBN,YACAC,WAGJE,KAAKI,SAAL,OACKJ,KAAKR,OADV,IAEEC,cAAeA,Q,+BAIjB,OAAO,yBAAKY,UAAU,oBACnBL,KAAKR,MAAMC,cAAca,KAAI,SAAAJ,GAC5B,OAAM,2BAAOK,iBAAgBL,EAAaL,UAAWW,IAAKN,EAAaL,WAAYK,EAAaJ,iB,8BAvCnFW,aA6CNnB,O,+nBC9CC,oBACdQ,OADc,IAEXP,EAFW,uBAGV,2BAAKmB,MAAM,KAAKC,OAAO,KAAKC,KAAK,OAAOC,MAAM,8BAAiCtB,GAAO,0BAAMuB,EAAE,6FAA6FF,KAAK,OAAOG,OAAO,OAAOC,YAAY,S,mkBCHvN,oBACdlB,OADc,IAEXP,EAFW,uBAGV,2BAAKmB,MAAM,KAAKC,OAAO,KAAKC,KAAK,OAAOC,MAAM,8BAAiCtB,GAAO,0BAAMuB,EAAE,qyBAAqyBF,KAAK,OAAOG,OAAO,OAAOC,YAAY,S,+zCC6Ch6BC,E,4WAxCFC,GAGT,OAFAA,EAAEC,iBACFD,EAAEE,mBACK,I,kCAGGF,GAGV,OAFAA,EAAEC,iBACFD,EAAEE,mBACK,I,6BAGFF,GAML,IAAIG,EAAgBH,EAAEI,aAAaC,QAAQ,cAI3C,OAHAL,EAAEC,iBACFD,EAAEE,kBACFI,cAAYC,QAAQC,oBAAoBC,mBAAmBN,IACpD,I,+BAIP,OAAO,yBAAKhB,UAAU,cACVuB,WAAY5B,KAAK4B,WACjBC,YAAa7B,KAAK6B,YAClBC,OAAQ9B,KAAK8B,OACbC,oBAAkB,eAC1B,yBAAK1B,UAAU,8BACb,4BAAQ2B,UAAU,OAAO3B,UAAU,uDAAsD,kBAAC,EAAD,OACzF,4BAAQA,UAAU,0DAAyD,kBAAC,EAAD,QAE7E,yBAAKA,UAAU,qBAAf,0B,8BArCiBI,a,wuCCEnBwB,E,sQACJ,WAAY1C,GAAO,a,4FAAA,UACjB,cAAMA,IACDC,MAAQ,GACb,EAAK0C,aAAeC,IAAMC,YAC1BC,IAAMC,UAAU,EAAKC,uBAAuBC,KAA5B,OAChB9C,OAAO+C,mBAAP,KALiB,E,4DAQIC,GACrB,IAAIC,EAAiBN,IAAMO,WAAWD,eAAeA,eAClDA,aAA0BE,KAAeF,IAAmB3C,KAAKR,MAAMsD,aACxE9C,KAAKI,SAAS,CACZ0C,YAAaH,M,0CAsBjB,IAAIG,EAActB,cAAYC,QAAQC,oBAAoBqB,iBAC1D/C,KAAKI,SAAS,CACZ0C,kB,+BAKF,OAAO,kBAAC,IAAD,CAAUT,MAAOA,KACtB,yBAAKhC,UAAU,wEACH2C,IAAKhD,KAAKkC,cAElBlC,KAAKR,MAAMsD,YAAcX,IAAMc,cAC3BjD,KAAKR,MAAMsD,YAAYI,eAAe,CACpCC,SAAUnD,KAAKR,MAAMsD,YAAYK,SACjCC,QAAQpD,KAAKR,MAAMsD,cAErB,GAEN,kBAAC,EAAD,OAEF,kBAACxD,EAAA,EAAD,Y,8BAvDsBmB,aAkEbwB","file":"2.editor.js","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nclass Styles extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      elementStyles: []\r\n    };\r\n    window.stylesModule = this;\r\n    window.stylesModuleResolve(this);\r\n  }\r\n  /**\r\n   * @param {string} elementId\r\n   * @param {string} styles\r\n   * */\r\n  addElementStyles(elementId, styles){\r\n    if(!styles){\r\n      return\r\n    }\r\n    let elementFound = false;\r\n    let elementStyles = [...this.state.elementStyles];\r\n    elementStyles.forEach(elementStyle=>{\r\n      if(elementStyle.elementId === elementId){\r\n        elementFound = true;\r\n        elementStyle.styles = styles;\r\n      }\r\n    });\r\n    if(!elementFound){\r\n      elementStyles.push({\r\n        elementId,\r\n        styles,\r\n      })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      elementStyles: elementStyles\r\n    })\r\n  }\r\n  render(){\r\n    return <div className=\"styles-container\">\r\n      {this.state.elementStyles.map(elementStyle => {\r\n        return<style data-styles-id={elementStyle.elementId} key={elementStyle.elementId}>{elementStyle.styles}</style>\r\n      })}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Styles","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"29\" height=\"29\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M26.411 14.842h.25V13.16h-11.82V1.34h-1.68v11.82H1.34v1.682h11.82v11.82h1.68v-11.82h11.57z\" fill=\"#fff\" stroke=\"#fff\" strokeWidth=\".5\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"27\" height=\"23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M21.74 20.953c-.116.43-.54.755-1.022.755H2.068a1.06 1.06 0 01-1.066-1.056v.23H.774m20.965.07l.235.087.004-.01m-.239-.076l.242.064a.482.482 0 01-.003.012m-.239-.076L1 20.633l-.247-.002v.002c-.001.084.006.168.021.25m21.204.146c-.15.54-.674.93-1.26.93H2.068a1.31 1.31 0 01-1.046-.518h0a1.305 1.305 0 01-.248-.558m21.204.146l4.257-11.673.015-.041v-.118c0-.815-.514-1.489-1.296-1.489H23.75V5.347a1.39 1.39 0 00-1.388-1.389H12.177l-2.009-2.812-.075-.104H2.138A1.39 1.39 0 00.75 2.43v18.453h.024M11.49 5.292l-.075-.105-2.008-2.812H2.138a.055.055 0 00-.055.055v14.287l2.963-8.08c.13-.471.548-.828 1.04-.91 0 0 0 0 0 0l.041.246c.058-.01.118-.015.178-.015l5.185-2.666zm0 0h10.871c.03 0 .055.024.055.055v2.361L11.49 5.292zm9.22 15.324l-.003.009H2.092l4.22-11.574.003-.01h18.578a.402.402 0 01.015.063L20.71 20.616z\" fill=\"#fff\" stroke=\"#fff\" strokeWidth=\".5\" /></svg>);","import React, {Component} from \"react\";\r\nimport PlusIcon from '../../svgs/plus.svg'\r\nimport FolderIcon from '../../svgs/folder.svg'\r\nimport {CONSTANTS, getEditor} from \"../helpers\";\r\nimport store from '../store/store';\r\nimport {changeTemplateStatus} from \"../store/template-status/actions\";\r\n\r\nclass NewSection extends Component {\r\n\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    return false;\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    return false;\r\n  }\r\n\r\n  onDrop(e) {\r\n    // console.log(e);\r\n    // console.log(e.target);\r\n    /**\r\n     * @member {HTMLElement} target\r\n     * */\r\n    let newWidgetName = e.dataTransfer.getData('text/plain');\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    getEditor().modules.templateDataStorage.addWidgetInSection(newWidgetName);\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"new-section\"\r\n                onDragOver={this.onDragOver}\r\n                onDragEnter={this.onDragEnter}\r\n                onDrop={this.onDrop}\r\n                data-element-type=\"new-section\">\r\n        <div className=\"new-section-buttons d-flex\">\r\n          <button draggable=\"true\" className=\"new-section__button new-section__button_add d-flex \"><PlusIcon/></button>\r\n          <button className=\"new-section__button new-section__button_library d-flex\"><FolderIcon/></button>\r\n        </div>\r\n        <div className=\"new-section__text\">Drag widget here</div>\r\n      </div>\r\n  }\r\n}\r\n\r\nexport default NewSection","import React, {Component} from \"react\";\r\nimport {hot} from \"react-hot-loader/index\";\r\nimport NewSection from \"./js/components/NewSection\";\r\nimport {getEditor} from \"./js/helpers\";\r\nimport {Provider} from 'react-redux'\r\nimport store from '../src/js/store/store'\r\nimport RootElement from \"./js/classes/elements/RootElement\";\r\nimport Styles from \"./js/components/Styles\";\r\n\r\nclass EditorContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.editorWindow = React.createRef();\r\n    store.subscribe(this.currentElementListener.bind(this));\r\n    window.altrpEditorContent = this;\r\n  }\r\n\r\n  currentElementListener(data){\r\n    let currentElement = store.getState().currentElement.currentElement;\r\n    if(currentElement instanceof RootElement && currentElement !== this.state.rootElement){\r\n      this.setState({\r\n        rootElement: currentElement,\r\n      })\r\n    }\r\n  }\r\n\r\n  // log(e){\r\n  //   e.preventDefault();\r\n  //   console.log(e);\r\n  // }\r\n  //\r\n  // onDragOver (e) {\r\n  //   let event = e ;\r\n  //   event.stopPropagation();\r\n  // }\r\n  //\r\n  // onDragEnter  (e) {\r\n  //   let event = e ;\r\n  //   event.stopPropagation();\r\n  // }\r\n\r\n\r\n  componentDidMount() {\r\n    let rootElement = getEditor().modules.templateDataStorage.getRootElement();\r\n    this.setState({\r\n      rootElement\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return <Provider store={store}>\r\n      <div className=\"editor-content d-flex flex-column justify-center align-content-center\"\r\n                  ref={this.editorWindow}>\r\n        {\r\n          this.state.rootElement ? React.createElement(\r\n              this.state.rootElement.componentClass,{\r\n                children: this.state.rootElement.children,\r\n                element:this.state.rootElement,\r\n              }\r\n          ) : ''\r\n        }\r\n        <NewSection />\r\n      </div>\r\n      <Styles/>\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = EditorContent\r\n} else {\r\n  _export = hot(module)(EditorContent);\r\n}\r\nexport default EditorContent"],"sourceRoot":""}