{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./resources/modules/editor/src/svgs/plus.svg","webpack:///./resources/modules/editor/src/svgs/folder.svg","webpack:///./resources/modules/editor/src/js/components/NewSection.js","webpack:///./resources/modules/editor/src/js/components/Styles.js","webpack:///./resources/modules/editor/src/EditorContent.js"],"names":["module","exports","arr","len","length","i","arr2","Array","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayLikeToArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","styles","props","width","height","fill","xmlns","d","stroke","strokeWidth","NewSection","e","preventDefault","stopPropagation","newWidgetName","dataTransfer","getData","getEditor","modules","templateDataStorage","addWidgetInSection","className","onDragOver","this","onDragEnter","onDrop","data-element-type","draggable","Component","Styles","state","elementStyles","window","stylesModule","stylesModuleResolve","elementId","elementFound","forEach","elementStyle","push","setState","map","data-styles-id","key","EditorContent","editorWindow","React","createRef","store","subscribe","currentElementListener","bind","altrpEditorContent","data","currentElement","getState","RootElement","rootElement","getRootElement","ref","createElement","componentClass","children","element"],"mappings":"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","file":"3.editor.js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"29\" height=\"29\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M26.411 14.842h.25V13.16h-11.82V1.34h-1.68v11.82H1.34v1.682h11.82v11.82h1.68v-11.82h11.57z\" fill=\"#fff\" stroke=\"#fff\" strokeWidth=\".5\" /></svg>);","import React from \"react\";\nexport default (({\n  styles = {},\n  ...props\n}) => <svg width=\"27\" height=\"23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}><path d=\"M21.74 20.953c-.116.43-.54.755-1.022.755H2.068a1.06 1.06 0 01-1.066-1.056v.23H.774m20.965.07l.235.087.004-.01m-.239-.076l.242.064a.482.482 0 01-.003.012m-.239-.076L1 20.633l-.247-.002v.002c-.001.084.006.168.021.25m21.204.146c-.15.54-.674.93-1.26.93H2.068a1.31 1.31 0 01-1.046-.518h0a1.305 1.305 0 01-.248-.558m21.204.146l4.257-11.673.015-.041v-.118c0-.815-.514-1.489-1.296-1.489H23.75V5.347a1.39 1.39 0 00-1.388-1.389H12.177l-2.009-2.812-.075-.104H2.138A1.39 1.39 0 00.75 2.43v18.453h.024M11.49 5.292l-.075-.105-2.008-2.812H2.138a.055.055 0 00-.055.055v14.287l2.963-8.08c.13-.471.548-.828 1.04-.91 0 0 0 0 0 0l.041.246c.058-.01.118-.015.178-.015l5.185-2.666zm0 0h10.871c.03 0 .055.024.055.055v2.361L11.49 5.292zm9.22 15.324l-.003.009H2.092l4.22-11.574.003-.01h18.578a.402.402 0 01.015.063L20.71 20.616z\" fill=\"#fff\" stroke=\"#fff\" strokeWidth=\".5\" /></svg>);","import React, {Component} from \"react\";\nimport PlusIcon from '../../svgs/plus.svg'\nimport FolderIcon from '../../svgs/folder.svg'\nimport {CONSTANTS, getEditor} from \"../helpers\";\nimport store from '../store/store';\nimport {changeTemplateStatus} from \"../store/template-status/actions\";\n\nclass NewSection extends Component {\n\n  onDragOver(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  }\n\n  onDragEnter(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  }\n\n  onDrop(e) {\n    // console.log(e);\n    // console.log(e.target);\n    /**\n     * @member {HTMLElement} target\n     * */\n    let newWidgetName = e.dataTransfer.getData('text/plain');\n    e.preventDefault();\n    e.stopPropagation();\n    getEditor().modules.templateDataStorage.addWidgetInSection(newWidgetName);\n    return false;\n  }\n\n  render() {\n    return <div className=\"new-section\"\n                onDragOver={this.onDragOver}\n                onDragEnter={this.onDragEnter}\n                onDrop={this.onDrop}\n                data-element-type=\"new-section\">\n        <div className=\"new-section-buttons d-flex\">\n          <button draggable=\"true\" className=\"new-section__button new-section__button_add d-flex \"><PlusIcon/></button>\n          <button className=\"new-section__button new-section__button_library d-flex\"><FolderIcon/></button>\n        </div>\n        <div className=\"new-section__text\">Drag widget here</div>\n      </div>\n  }\n}\n\nexport default NewSection","import React, {Component} from \"react\";\n\nclass Styles extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      elementStyles: []\n    };\n    window.stylesModule = this;\n    window.stylesModuleResolve(this);\n  }\n  /**\n   * @param {string} elementId\n   * @param {string} styles\n   * */\n  addElementStyles(elementId, styles){\n    if(!styles){\n      return\n    }\n    let elementFound = false;\n    let elementStyles = [...this.state.elementStyles];\n    elementStyles.forEach(elementStyle=>{\n      if(elementStyle.elementId === elementId){\n        elementFound = true;\n        elementStyle.styles = styles;\n      }\n    });\n    if(!elementFound){\n      elementStyles.push({\n        elementId,\n        styles,\n      })\n    }\n    this.setState({\n      ...this.state,\n      elementStyles: elementStyles\n    })\n  }\n  render(){\n    return <div className=\"styles-container\">\n      {this.state.elementStyles.map(elementStyle => {\n        return<style data-styles-id={elementStyle.elementId} key={elementStyle.elementId}>{elementStyle.styles}</style>\n      })}\n    </div>\n  }\n}\n\nexport default Styles","import React, {Component} from \"react\";\nimport {hot} from \"react-hot-loader/index\";\nimport NewSection from \"./js/components/NewSection\";\nimport {getEditor} from \"./js/helpers\";\nimport {Provider} from 'react-redux'\nimport store from '../src/js/store/store'\nimport RootElement from \"./js/classes/elements/RootElement\";\nimport Styles from \"./js/components/Styles\";\n\nclass EditorContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.editorWindow = React.createRef();\n    store.subscribe(this.currentElementListener.bind(this));\n    window.altrpEditorContent = this;\n  }\n\n  currentElementListener(data){\n    let currentElement = store.getState().currentElement.currentElement;\n    if(currentElement instanceof RootElement && currentElement !== this.state.rootElement){\n      this.setState({\n        rootElement: currentElement,\n      })\n    }\n  }\n\n  // log(e){\n  //   e.preventDefault();\n  //   console.log(e);\n  // }\n  //\n  // onDragOver (e) {\n  //   let event = e ;\n  //   event.stopPropagation();\n  // }\n  //\n  // onDragEnter  (e) {\n  //   let event = e ;\n  //   event.stopPropagation();\n  // }\n\n\n  componentDidMount() {\n    let rootElement = getEditor().modules.templateDataStorage.getRootElement();\n    this.setState({\n      rootElement\n    })\n  }\n\n  render() {\n    return <Provider store={store}>\n      <div className=\"editor-content d-flex flex-column justify-center align-content-center\"\n                  ref={this.editorWindow}>\n        {\n          this.state.rootElement ? React.createElement(\n              this.state.rootElement.componentClass,{\n                children: this.state.rootElement.children,\n                element:this.state.rootElement,\n              }\n          ) : ''\n        }\n        <NewSection />\n      </div>\n      <Styles/>\n    </Provider>;\n  }\n}\n\nlet _export;\nif (process.env.NODE_ENV === 'production') {\n  _export = EditorContent\n} else {\n  _export = hot(module)(EditorContent);\n}\nexport default EditorContent"],"sourceRoot":""}